<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Coopkit IA22_LOGIC Medical</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: sans-serif; background: #f0f8ff; padding: 20px; }
    h1 { color: #006699; }
    textarea, input, button {
      width: 100%; font-size: 16px; padding: 10px; margin-top: 10px; box-sizing: border-box;
    }
    .output {
      background: #fff; border-left: 5px solid #0099cc;
      padding: 15px; margin-top: 20px; white-space: pre-wrap;
    }
    footer { margin-top: 30px; text-align: center; font-size: 13px; color: #555; }
  </style>
</head>
<body>

  <h1>ü©∫ Coopkit IA22_LOGIC ‚Äì Analyse M√©dicale Intelligente</h1>
  <p>Exemple : <i>¬´ Fi√®vre depuis 2 jours ¬ª, ¬´ Je souhaite emprunter un glucom√®tre ¬ª, ¬´ Douleur thoracique aigu√´ ¬ª</i></p>

  <textarea id="question" placeholder="Entrez votre description m√©dicale ou besoin ici..."></textarea>
  <input id="gptapi" type="text" placeholder="URL API GPT personnelle (optionnel)">
  <button onclick="lancerIA()">Analyser avec IA22_LOGIC</button>

  <div class="output" id="reponse" style="display:none;"></div>

  <footer>
    Coopkit IA22_LOGIC Medical ‚Ä¢ Zoubirou Mohammed Ilyes ¬© 2025 ‚Äì NetSecurePro IA
  </footer>

  <script>
    async function lancerIA() {
      const texte = document.getElementById("question").value.trim();
      const urlGPT = document.getElementById("gptapi").value.trim();
      const sortie = document.getElementById("reponse");
      sortie.style.display = "block";

      // --- Mode IA22_LOGIC embarqu√© (offline)
      if (!urlGPT) {
        let r√©sultat = {};
        if (/fi√®vre|toux|douleur/.test(texte.toLowerCase())) {
          r√©sultat = {
            analyse: "Sympt√¥me d√©tect√©",
            type: texte.includes("fi√®vre") ? "Infectieux" :
                  texte.includes("douleur thoracique") ? "Cardiaque potentiel" : "Sympt√¥me courant",
            recommandation: "Surveillance 24h + avis m√©dical si persistant",
            IA22_LOGIC: "Analyse m√©dicale rapide"
          };
        } else if (/emprunter|demande/.test(texte.toLowerCase())) {
          const objet = texte.includes("glucom√®tre") ? "Glucom√®tre" :
                        texte.includes("tensiom√®tre") ? "Tensiom√®tre" : "Dispositif non pr√©cis√©";
          r√©sultat = {
            action: "Demande d'emprunt",
            mat√©riel: objet,
            dur√©e: texte.match(/\d+\s*(jours|semaines|mois)/i)?.[0] || "Dur√©e non sp√©cifi√©e",
            IA22_LOGIC: "Gestion m√©dicale logistique"
          };
        } else {
          r√©sultat = {
            statut: "Entr√©e non reconnue",
            suggestion: "Essayez une phrase comme 'fi√®vre depuis 3 jours' ou 'emprunter un tensiom√®tre pour 1 semaine'"
          };
        }
        sortie.textContent = JSON.stringify(r√©sultat, null, 2);
        return;
      }

      // --- Mode Online (via GPT personnel si URL fournie)
      try {
        const res = await fetch(urlGPT, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "Authorization": "Bearer TON_CLE_API" // <-- √† remplacer par ta cl√©
          },
          body: JSON.stringify({
            model: "gpt-4", // ou gpt-3.5-turbo
            messages: [{ role: "user", content: texte }],
            temperature: 0.7
          })
        });

        const data = await res.json();
        const r√©ponseGPT = data.choices?.[0]?.message?.content || "Pas de r√©ponse du mod√®le GPT.";
        sortie.textContent = "R√©ponse GPT IA :\n\n" + r√©ponseGPT;
      } catch (err) {
        sortie.textContent = "Erreur IA GPT : " + err;
      }
    }
  </script>

</body>
</html>
